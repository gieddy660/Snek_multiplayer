TODO: improve new communication in server
TODO: implement new communication in client